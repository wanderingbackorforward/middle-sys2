services:
 - type: web
   name: tunnel-monitor-backend
   runtime: java
   runtimeVersion: 17
   buildCommand: cd backend && ./mvnw clean package -DskipTests
   startCommand: cd backend && java -jar target/tunnel-monitor-0.0.1-SNAPSHOT.jar
   envVars:
   - key: SPRING_PROFILES_ACTIVE
     value: prod
   - key: SERVER_PORT
     value: 8080
   - key: JAVA_OPTS
     value: -Xmx512M -Xms256M
   - key: SUPABASE_URL
     value: https://komlrqbghyirkykmibrx.supabase.co
   - key: SUPABASE_ANON_KEY
     value: sb_publishable_dN2XxFgARaq_7RhBo-3E4w_cEOzwz56
   healthCheckPath: /api/actuator/health
   autoDeploy: true
   branch: master
