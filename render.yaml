services:
  - type: web
    name: tunnel-monitor-flask-backend
    runtime: python
    buildCommand: pip install -r backend-flask/requirements.txt
    startCommand: cd backend-flask && gunicorn app:app -k gthread -w 2 --threads 8 -b 0.0.0.0:$PORT
    envVars:
      - key: USE_SUPABASE
        value: "1"
      - key: SUPABASE_URL
        value: ""
      - key: SUPABASE_SERVICE_KEY
        value: ""
      - key: DEEPSEEK_API_KEY
        value: ""
      - key: GEMINI_API_KEY
        value: ""
    healthCheckPath: /api/health
    autoDeploy: true
    branch: feat/vercel-render-migration
